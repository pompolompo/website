[
  {
    "objectID": "about-ca.html",
    "href": "about-ca.html",
    "title": "Ferran Garcia",
    "section": "",
    "text": "English  Català  Español\n\n\nSóc un estadístic i economista orientat a resultats, amb actitud proactiva i ganes de seguir aprenent. M’especialitzo en analitzar i modelitzar dades per extreure informació d’interès i comunicar-la.\n\nEducation: UB, UPC, UM, US (econ and stats)\nExperience: 2 years uni and 1 year intern\nProjects: web scrapping, app development, modelling"
  },
  {
    "objectID": "about-en.html",
    "href": "about-en.html",
    "title": "Ferran Garcia",
    "section": "",
    "text": "English  Català  Español\n\n\nI am a results-driven statistician and economist with a curious mindset and proactive approach, focused on transforming complex data into actionable insights and communicating them effectively to a broad audience.\n\nEducation: UB, UPC, UM, US (econ and stats)\nExperience: 2 years uni and 1 year intern\nProjects: web scrapping, app development, modelling"
  },
  {
    "objectID": "notes/en/a/index.html",
    "href": "notes/en/a/index.html",
    "title": "Evolution of gas prices in Llinars del Vallès and Cardedeu",
    "section": "",
    "text": "Use this R libraries:\nlibrary(httr2)\nlibrary(dplyr)\nlibrary(purrr)\nlibrary(tidyr)\nlibrary(ggplot2)\nDefine function to retrieve information:\nget_gas &lt;- function(filtro, args) {\n  paste0(\n    \"https://sedeaplicaciones.minetur.gob.es\",\n    \"/ServiciosRESTCarburantes/PreciosCarburantes/EstacionesTerrestresHist/\",\n    filtro, paste(args, collapse = \"/\")\n  ) %&gt;%\n    request() %&gt;%\n    req_perform() %&gt;%\n    resp_body_json() %&gt;%\n    .[[\"ListaEESSPrecio\"]] %&gt;%\n    map(\\(x) as_tibble(list_flatten(x))) %&gt;%\n    bind_rows() %&gt;%\n    janitor::clean_names()\n}\nRetrieve yesterday’s gas prices in catalan provinces:\nprov &lt;- c(\"08\", \"43\", \"17\", \"25\")\n\ngCat &lt;- map(prov, \\(x) get_gas(\n  filtro = \"FiltroProvincia/\",\n  args = c(format(Sys.Date() - 1, \"%d-%m-%Y\"), x)\n)) %&gt;%\n  bind_rows() %&gt;%\n  mutate(precio = as.numeric(gsub(\",\", \".\", precio_gasolina_95_e5)))\nSummary of gas stations and price statistics per province:1\ngCat %&gt;%\n  summarise(\n    n = n(),\n    mean = mean(precio, na.rm = TRUE) %&gt;% round(3),\n    median = median(precio, na.rm = TRUE) %&gt;% round(3),\n    sd = sd(precio, na.rm = TRUE) %&gt;% round(3),\n    .by = provincia\n  )\n\n# A tibble: 4 × 5\n  provincia     n  mean median    sd\n  &lt;chr&gt;     &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;\n1 BARCELONA   799  1.58   1.62 0.11 \n2 TARRAGONA   222  1.59   1.64 0.108\n3 GIRONA      264  1.58   1.62 0.086\n4 LLEIDA      183  1.54   1.58 0.098\nWe are interest in historic prices from a certain province, for instance Cadiz whose code is 11. Considering daily observations for all Cadiz gas stations, a horizon of one year seems reasonable.\nDeclare province, product, horizon and API filter parameters:\nprov &lt;- \"11\"\nprod &lt;- \"01\"\nh &lt;- 366 / 12\nfil &lt;- \"FiltroProvinciaProducto/\"\n\ncadiz &lt;- map(format(Sys.Date() - 1:h, \"%d-%m-%Y\"), \\(x){\n  get_gas(filtro = fil, args = c(x, prov, prod)) %&gt;%\n    mutate(fecha = as.Date(x))\n}) %&gt;%\n  bind_rows() %&gt;%\n  mutate(precio = as.numeric(gsub(\",\", \".\", precio_producto)))\ngCat %&gt;%\n  filter(rotulo %in% (\n    summarise(gCat, .by = rotulo, n = n()) %&gt;%\n      arrange(n) %&gt;% pull(rotulo) %&gt;% tail(10)\n  )) %&gt;%\n  drop_na() %&gt;%\n  select(rotulo, precio) %&gt;%\n  ggplot(aes(rotulo, precio)) +\n  geom_boxplot() +\n  theme_bw() +\n  theme(\n    axis.title = element_blank()\n  ) +\n  labs(\n    title = \"Gas prices in Catalonia, 2025\",\n    subtitle = \"Euros per litre of gas 95 E5 (10 largest providers)\"\n  )"
  },
  {
    "objectID": "notes/en/a/index.html#footnotes",
    "href": "notes/en/a/index.html#footnotes",
    "title": "Evolution of gas prices in Llinars del Vallès and Cardedeu",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nConsidering 95 gas - E5↩︎"
  },
  {
    "objectID": "about-es.html",
    "href": "about-es.html",
    "title": "Ferran Garcia",
    "section": "",
    "text": "English  Català  Español\n\n\nSoy un estadístico y economista orientado a resultados, con actitud proactiva y ganas de seguir aprendiendo. Me especializo en analizar y modelizar datos para extraer información de interés y comunicarla.\n\nEducation: UB, UPC, UM, US (econ and stats)\nExperience: 2 years uni and 1 year intern\nProjects: web scrapping, app development, modelling"
  },
  {
    "objectID": "notes/ca/geoportal_api/index.html",
    "href": "notes/ca/geoportal_api/index.html",
    "title": "Preus a les gasolineres d’Espanya",
    "section": "",
    "text": "On s’ón’ubiquen els punts de recàrrega?\nQuin carburant ofereixen?\nQuin preu cobren? Com canvia al llarg del temps?\nQuin horari obre?\nÉs d’autoservei?\nÉs una cooperativa?\nQui n’és el propietari?\nExisteixen portals similars a Europa"
  },
  {
    "objectID": "notes/ca/geoportal_api/index.html#quina-informació-hi-ha-al-geoportal",
    "href": "notes/ca/geoportal_api/index.html#quina-informació-hi-ha-al-geoportal",
    "title": "Preus a les gasolineres d’Espanya",
    "section": "",
    "text": "On s’ón’ubiquen els punts de recàrrega?\nQuin carburant ofereixen?\nQuin preu cobren? Com canvia al llarg del temps?\nQuin horari obre?\nÉs d’autoservei?\nÉs una cooperativa?\nQui n’és el propietari?\nExisteixen portals similars a Europa"
  },
  {
    "objectID": "notes/ca/geoportal_api/index.html#com-obtenim-les-dades",
    "href": "notes/ca/geoportal_api/index.html#com-obtenim-les-dades",
    "title": "Preus a les gasolineres d’Espanya",
    "section": "Com obtenim les dades?",
    "text": "Com obtenim les dades?\n\nConnexió amb la API\nCal connectarnos a la API del geoportal per obtenir les dades que ens interessen. Descarregarem en format .json, que R llegirà com llista. Finalment apilarem totes les observacions en una taula.\nEl geoportal ofereix múltiples APIs que donen accés a diferent informació (Servicios REST). Estem interessats en l’evolució dels preus de cada producte així que utilitzem la següent estructura:\nPart comú: Sempre serà la mateixa\nhttps://sedeaplicaciones.minetur.gob.es/ServiciosRESTCarburantes/PreciosCarburantes/\nPart Específica: Escollirem i parametritzarem en funció de l’informació que volem\nEstacionesTerrestresHist/FiltroProvinciaProducto/{FECHA}/{IDPROVINCIA}/{IDPRODUCTO}\n\n\nExemple en R\nUtilitzarem les següents llibreries d’R:\n\nsuppressWarnings(suppressMessages({\n  library(dplyr)\n  library(purrr)\n  library(httr2)\n}))\n\nEstem interessats en el preu de la gasolina 95 E5. Ens centrem en la província de Barcelona i volem l’informació del dia anterior. Els productes i províncies tenen codis associats, codificarem la data en format dd-mm-yy:\n\ndata &lt;- format(Sys.Date() - 1, \"%d-%m-%Y\")\nproducte &lt;- \"01\"\nprovincies &lt;- set_names(\n  c(\"08\", \"17\", \"25\", \"43\"), \n  c(\"barcelona\", \"girona\", \"lleida\", \"tarragona\")\n)\n\nConstruim l’url per cada província:\n\nbase_url &lt;- provincies %&gt;% \n  map(\\(prov) paste0(\n    \"https://sedeaplicaciones.minetur.gob.es/\",\n    \"ServiciosRESTCarburantes/PreciosCarburantes/\",\n    \"EstacionesTerrestresHist/FiltroProvinciaProducto/\",\n    data, \"/\", prov, \"/\", producte\n))\n\nDemanem l’informació, la convertim en llista i l’apilem en una taula per cada província:\n\nresponse &lt;- map(base_url, \\(url) req_perform(request(url)))\n\ntbl &lt;- response %&gt;% \n  map(\\(resp){\n    resp_body_json(resp)[[\"ListaEESSPrecio\"]] %&gt;% \n      map(\\(json) as_tibble(list_flatten(json))) %&gt;% \n      bind_rows() %&gt;% \n      mutate(PrecioProducto = as.numeric(sub(\",\", \".\", PrecioProducto)))\n  })\n\nFem una ullada als preus:\n\nwith(list_c(tbl), boxplot(PrecioProducto ~ Provincia, xlab = \"\", ylab = \"\"))\n\n\n\n\n\n\n\n\n\nhist(list_c(tbl)[[\"PrecioProducto\"]], breaks = 30, main = \"\", xlab = \"\", ylab = \"\")"
  },
  {
    "objectID": "notes/ca/geoportal_api/index.html#més-enllà",
    "href": "notes/ca/geoportal_api/index.html#més-enllà",
    "title": "Preus a les gasolineres d’Espanya",
    "section": "Més enllà",
    "text": "Més enllà\n\nMapa de preus de gasolineres"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Ferran Garcia",
    "section": "",
    "text": "Duis urna urna, pellentesque eu urna ut, malesuada bibendum dolor. Suspendisse potenti. Vivamus ornare, arcu quis molestie ultrices, magna est accumsan augue, auctor vulputate erat quam quis neque. Nullam scelerisque odio vel ultricies facilisis. Ut porta arcu non magna sagittis lacinia. Cras ornare vulputate lectus a tristique. Pellentesque ac arcu congue, rhoncus mi id, dignissim ligula.\n\n\n\n\n\n\nPreus a les gasolineres d’Espanya\n\n\nQuinen preus fixen les gasolineres per cada producte al llarg del temps?\n\n\n\n\n\nFeb 11, 2024\n\n\n\n\n\n\nNo matching items"
  }
]